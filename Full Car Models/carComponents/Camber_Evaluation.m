function [camber] = Camber_Evaluation(long_vel,yaw_rate, steer_angle, static_camber)
steer_angle = steer_angle/25.099;
steer_camber = 2; % deg at full steer
roll_gradient = 0.67; %[0.62 1.33]; %0.67; % deg/g range (min to max)
%static_camber = 0; % deg

camber_compliance_outside = 0.5; % deg/g (outside wheel)

cornering_g = abs(yaw_rate*long_vel)/9.8; % g

dir = sign(yaw_rate);

roll_camber = [
%   Roll       Camber R   Camber F
    -1.000     -0.593     -0.500
    -0.990     -0.587     -0.495
    -0.980     -0.581     -0.490
    -0.970     -0.575     -0.485
    -0.960     -0.569     -0.480
    -0.950     -0.563     -0.475
    -0.940     -0.557     -0.470
    -0.930     -0.551     -0.464
    -0.920     -0.545     -0.459
    -0.910     -0.539     -0.454
    -0.900     -0.533     -0.449
    -0.890     -0.527     -0.444
    -0.880     -0.521     -0.439
    -0.870     -0.515     -0.434
    -0.860     -0.509     -0.429
    -0.850     -0.503     -0.424
    -0.840     -0.497     -0.419
    -0.830     -0.491     -0.413
    -0.820     -0.485     -0.408
    -0.810     -0.479     -0.403
    -0.800     -0.474     -0.398
    -0.790     -0.468     -0.393
    -0.780     -0.462     -0.388
    -0.770     -0.456     -0.383
    -0.760     -0.450     -0.378
    -0.750     -0.444     -0.373
    -0.740     -0.438     -0.368
    -0.730     -0.432     -0.363
    -0.720     -0.426     -0.358
    -0.710     -0.420     -0.353
    -0.700     -0.414     -0.348
    -0.690     -0.408     -0.342
    -0.680     -0.402     -0.337
    -0.670     -0.396     -0.332
    -0.660     -0.390     -0.327
    -0.650     -0.384     -0.322
    -0.640     -0.378     -0.317
    -0.630     -0.372     -0.312
    -0.620     -0.366     -0.307
    -0.610     -0.360     -0.302
    -0.600     -0.355     -0.297
    -0.590     -0.349     -0.292
    -0.580     -0.343     -0.287
    -0.570     -0.337     -0.282
    -0.560     -0.331     -0.277
    -0.550     -0.325     -0.272
    -0.540     -0.319     -0.267
    -0.530     -0.313     -0.262
    -0.520     -0.307     -0.257
    -0.510     -0.301     -0.252
    -0.500     -0.295     -0.247
    -0.490     -0.289     -0.242
    -0.480     -0.283     -0.237
    -0.470     -0.277     -0.232
    -0.460     -0.271     -0.227
    -0.450     -0.266     -0.222
    -0.440     -0.260     -0.217
    -0.430     -0.254     -0.212
    -0.420     -0.248     -0.207
    -0.410     -0.242     -0.202
    -0.400     -0.236     -0.197
    -0.390     -0.230     -0.192
    -0.380     -0.224     -0.187
    -0.370     -0.218     -0.182
    -0.360     -0.212     -0.177
    -0.350     -0.206     -0.172
    -0.340     -0.200     -0.167
    -0.330     -0.195     -0.162
    -0.320     -0.189     -0.157
    -0.310     -0.183     -0.152
    -0.300     -0.177     -0.147
    -0.290     -0.171     -0.142
    -0.280     -0.165     -0.137
    -0.270     -0.159     -0.133
    -0.260     -0.153     -0.128
    -0.250     -0.147     -0.123
    -0.240     -0.141     -0.118
    -0.230     -0.135     -0.113
    -0.220     -0.130     -0.108
    -0.210     -0.124     -0.103
    -0.200     -0.118     -0.098
    -0.190     -0.112     -0.093
    -0.180     -0.106     -0.088
    -0.170     -0.100     -0.083
    -0.160     -0.094     -0.078
    -0.150     -0.088     -0.073
    -0.140     -0.082     -0.068
    -0.130     -0.076     -0.064
    -0.120     -0.071     -0.059
    -0.110     -0.065     -0.054
    -0.100     -0.059     -0.049
    -0.090     -0.053     -0.044
    -0.080     -0.047     -0.039
    -0.070     -0.041     -0.034
    -0.060     -0.035     -0.029
    -0.050     -0.029     -0.024
    -0.040     -0.024     -0.020
    -0.030     -0.018     -0.015
    -0.020     -0.012     -0.010
    -0.010     -0.006     -0.005
     0.000      0.000      0.000
     0.010      0.006      0.005
     0.020      0.012      0.010
     0.030      0.018      0.015
     0.040      0.023      0.019
     0.050      0.029      0.024
     0.060      0.035      0.029
     0.070      0.041      0.034
     0.080      0.047      0.039
     0.090      0.053      0.044
     0.100      0.059      0.049
     0.110      0.065      0.053
     0.120      0.070      0.058
     0.130      0.076      0.063
     0.140      0.082      0.068
     0.150      0.088      0.073
     0.160      0.094      0.078
     0.170      0.100      0.082
     0.180      0.106      0.087
     0.190      0.111      0.092
     0.200      0.117      0.097
     0.210      0.123      0.102
     0.220      0.129      0.107
     0.230      0.135      0.111
     0.240      0.141      0.116
     0.250      0.147      0.121
     0.260      0.152      0.126
     0.270      0.158      0.131
     0.280      0.164      0.135
     0.290      0.170      0.140
     0.300      0.176      0.145
     0.310      0.182      0.150
     0.320      0.188      0.155
     0.330      0.193      0.159
     0.340      0.199      0.164
     0.350      0.205      0.169
     0.360      0.211      0.174
     0.370      0.217      0.178
     0.380      0.223      0.183
     0.390      0.228      0.188
     0.400      0.234      0.193
     0.410      0.240      0.198
     0.420      0.246      0.202
     0.430      0.252      0.207
     0.440      0.258      0.212
     0.450      0.263      0.217
     0.460      0.269      0.221
     0.470      0.275      0.226
     0.480      0.281      0.231
     0.490      0.287      0.236
     0.500      0.293      0.240
     0.510      0.298      0.245
     0.520      0.304      0.250
     0.530      0.310      0.254
     0.540      0.316      0.259
     0.550      0.322      0.264
     0.560      0.327      0.269
     0.570      0.333      0.273
     0.580      0.339      0.278
     0.590      0.345      0.283
     0.600      0.351      0.288
     0.610      0.356      0.292
     0.620      0.362      0.297
     0.630      0.368      0.302
     0.640      0.374      0.306
     0.650      0.380      0.311
     0.660      0.386      0.316
     0.670      0.391      0.320
     0.680      0.397      0.325
     0.690      0.403      0.330
     0.700      0.409      0.335
     0.710      0.415      0.339
     0.720      0.420      0.344
     0.730      0.426      0.349
     0.740      0.432      0.353
     0.750      0.438      0.358
     0.760      0.444      0.363
     0.770      0.449      0.367
     0.780      0.455      0.372
     0.790      0.461      0.377
     0.800      0.467      0.381
     0.810      0.472      0.386
     0.820      0.478      0.391
     0.830      0.484      0.395
     0.840      0.490      0.400
     0.850      0.496      0.404
     0.860      0.501      0.409
     0.870      0.507      0.414
     0.880      0.513      0.418
     0.890      0.519      0.423
     0.900      0.525      0.428
     0.910      0.530      0.432
     0.920      0.536      0.437
     0.930      0.542      0.441
     0.940      0.548      0.446
     0.950      0.553      0.451
     0.960      0.559      0.455
     0.970      0.565      0.460
     0.980      0.571      0.465
     0.990      0.577      0.469
     1.000      0.582      0.474
];

roll_list = transpose(roll_camber(:,1));
camber_change_r = transpose(roll_camber(:,2));
camber_change_f = transpose(roll_camber(:,3));
rc_Fn = [roll_list; camber_change_r; camber_change_f];
camber = zeros(4);

%% Calculations
% note: 1 = front left tire, 2 = front right tire
%       3 = rear left tire, 4 = rear right tire

roll = roll_gradient*cornering_g*(-dir);
camber_fromroll_1 = lininterp1(rc_Fn(1,:), rc_Fn(3,:), roll*(dir)); %outer for right turn (pos dir)
camber_fromroll_2 = lininterp1(rc_Fn(1,:), rc_Fn(3,:), roll*(-dir));%inner for right turn
camber_fromroll_3 = lininterp1(rc_Fn(1,:), rc_Fn(2,:), roll*(dir));
camber_fromroll_4 = lininterp1(rc_Fn(1,:), rc_Fn(2,:), roll*(-dir));
camber_fromcompliance = cornering_g*camber_compliance_outside;
camber_fromsteer = steer_angle*steer_camber;

camber(1) = static_camber+camber_fromroll_1+(camber_fromsteer*(-dir));%+camber_fromcompliance;
camber(2) = static_camber+camber_fromroll_2+(camber_fromsteer*(dir));%+(camber_fromcompliance);
camber(3) = static_camber+camber_fromroll_3;%+camber_fromcompliance;
camber(4) = static_camber+camber_fromroll_4;%+camber_fromcompliance;