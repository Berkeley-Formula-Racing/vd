function [camber] = Camber_Evaluation(long_vel,yaw_rate, steer_angle, static_camber, fyApprox)
steer_angle = steer_angle/21.789;
steer_camber = 1.564; % deg at full steer
roll_gradient = 0.67; %[0.62 1.33]; %0.67; % deg/g range (min to max)
%static_camber = 0; % deg

camber_compliance_outside = 0.25 / 1334; % 
% 0.2deg / 250 ft lbs = 0.2deg / 338.9 NM

cornering_g = abs(yaw_rate*long_vel)/9.8; % g
%cornering_g

dir = sign(yaw_rate);

roll_camber = [ 
    %Roll      Camber_F_R Camber_R_R  Camber_F_L Camber_R_L   
    -1.000     -0.500     -0.593      0.474      0.582
    -0.990     -0.495     -0.587      0.469      0.577
    -0.980     -0.490     -0.581      0.465      0.571
    -0.970     -0.485     -0.575      0.460      0.565
    -0.960     -0.480     -0.569      0.455      0.559
    -0.950     -0.475     -0.563      0.451      0.553
    -0.940     -0.470     -0.557      0.446      0.548
    -0.930     -0.464     -0.551      0.441      0.542
    -0.920     -0.459     -0.545      0.437      0.536
    -0.910     -0.454     -0.539      0.432      0.530
    -0.900     -0.449     -0.533      0.428      0.525
    -0.890     -0.444     -0.527      0.423      0.519
    -0.880     -0.439     -0.521      0.418      0.513
    -0.870     -0.434     -0.515      0.414      0.507
    -0.860     -0.429     -0.509      0.409      0.501
    -0.850     -0.424     -0.503      0.404      0.496
    -0.840     -0.419     -0.497      0.400      0.490
    -0.830     -0.413     -0.491      0.395      0.484
    -0.820     -0.408     -0.485      0.391      0.478
    -0.810     -0.403     -0.479      0.386      0.472
    -0.800     -0.398     -0.474      0.381      0.467
    -0.790     -0.393     -0.468      0.377      0.461
    -0.780     -0.388     -0.462      0.372      0.455
    -0.770     -0.383     -0.456      0.367      0.449
    -0.760     -0.378     -0.450      0.363      0.444
    -0.750     -0.373     -0.444      0.358      0.438
    -0.740     -0.368     -0.438      0.353      0.432
    -0.730     -0.363     -0.432      0.349      0.426
    -0.720     -0.358     -0.426      0.344      0.420
    -0.710     -0.353     -0.420      0.339      0.415
    -0.700     -0.348     -0.414      0.335      0.409
    -0.690     -0.342     -0.408      0.330      0.403
    -0.680     -0.337     -0.402      0.325      0.397
    -0.670     -0.332     -0.396      0.320      0.391
    -0.660     -0.327     -0.390      0.316      0.386
    -0.650     -0.322     -0.384      0.311      0.380
    -0.640     -0.317     -0.378      0.306      0.374
    -0.630     -0.312     -0.372      0.302      0.368
    -0.620     -0.307     -0.366      0.297      0.362
    -0.610     -0.302     -0.360      0.292      0.356
    -0.600     -0.297     -0.355      0.288      0.351
    -0.590     -0.292     -0.349      0.283      0.345
    -0.580     -0.287     -0.343      0.278      0.339
    -0.570     -0.282     -0.337      0.273      0.333
    -0.560     -0.277     -0.331      0.269      0.327
    -0.550     -0.272     -0.325      0.264      0.322
    -0.540     -0.267     -0.319      0.259      0.316
    -0.530     -0.262     -0.313      0.254      0.310
    -0.520     -0.257     -0.307      0.250      0.304
    -0.510     -0.252     -0.301      0.245      0.298
    -0.500     -0.247     -0.295      0.240      0.293
    -0.490     -0.242     -0.289      0.236      0.287
    -0.480     -0.237     -0.283      0.231      0.281
    -0.470     -0.232     -0.277      0.226      0.275
    -0.460     -0.227     -0.271      0.221      0.269
    -0.450     -0.222     -0.266      0.217      0.263
    -0.440     -0.217     -0.260      0.212      0.258
    -0.430     -0.212     -0.254      0.207      0.252
    -0.420     -0.207     -0.248      0.202      0.246
    -0.410     -0.202     -0.242      0.198      0.240
    -0.400     -0.197     -0.236      0.193      0.234
    -0.390     -0.192     -0.230      0.188      0.228
    -0.380     -0.187     -0.224      0.183      0.223
    -0.370     -0.182     -0.218      0.178      0.217
    -0.360     -0.177     -0.212      0.174      0.211
    -0.350     -0.172     -0.206      0.169      0.205
    -0.340     -0.167     -0.200      0.164      0.199
    -0.330     -0.162     -0.195      0.159      0.193
    -0.320     -0.157     -0.189      0.155      0.188
    -0.310     -0.152     -0.183      0.150      0.182
    -0.300     -0.147     -0.177      0.145      0.176
    -0.290     -0.142     -0.171      0.140      0.170
    -0.280     -0.137     -0.165      0.135      0.164
    -0.270     -0.133     -0.159      0.131      0.158
    -0.260     -0.128     -0.153      0.126      0.152
    -0.250     -0.123     -0.147      0.121      0.147
    -0.240     -0.118     -0.141      0.116      0.141
    -0.230     -0.113     -0.135      0.111      0.135
    -0.220     -0.108     -0.130      0.107      0.129
    -0.210     -0.103     -0.124      0.102      0.123
    -0.200     -0.098     -0.118      0.097      0.117
    -0.190     -0.093     -0.112      0.092      0.111
    -0.180     -0.088     -0.106      0.087      0.106
    -0.170     -0.083     -0.100      0.082      0.100
    -0.160     -0.078     -0.094      0.078      0.094
    -0.150     -0.073     -0.088      0.073      0.088
    -0.140     -0.068     -0.082      0.068      0.082
    -0.130     -0.064     -0.076      0.063      0.076
    -0.120     -0.059     -0.071      0.058      0.070
    -0.110     -0.054     -0.065      0.053      0.065
    -0.100     -0.049     -0.059      0.049      0.059
    -0.090     -0.044     -0.053      0.044      0.053
    -0.080     -0.039     -0.047      0.039      0.047
    -0.070     -0.034     -0.041      0.034      0.041
    -0.060     -0.029     -0.035      0.029      0.035
    -0.050     -0.024     -0.029      0.024      0.029
    -0.040     -0.020     -0.024      0.019      0.023
    -0.030     -0.015     -0.018      0.015      0.018
    -0.020     -0.010     -0.012      0.010      0.012
    -0.010     -0.005     -0.006      0.005      0.006
     0.000      0.000      0.000     -0.000      0.000
     0.010      0.005      0.006     -0.005     -0.006
     0.020      0.010      0.012     -0.010     -0.012
     0.030      0.015      0.018     -0.015     -0.018
     0.040      0.019      0.023     -0.020     -0.024
     0.050      0.024      0.029     -0.024     -0.029
     0.060      0.029      0.035     -0.029     -0.035
     0.070      0.034      0.041     -0.034     -0.041
     0.080      0.039      0.047     -0.039     -0.047
     0.090      0.044      0.053     -0.044     -0.053
     0.100      0.049      0.059     -0.049     -0.059
     0.110      0.053      0.065     -0.054     -0.065
     0.120      0.058      0.070     -0.059     -0.071
     0.130      0.063      0.076     -0.064     -0.076
     0.140      0.068      0.082     -0.068     -0.082
     0.150      0.073      0.088     -0.073     -0.088
     0.160      0.078      0.094     -0.078     -0.094
     0.170      0.082      0.100     -0.083     -0.100
     0.180      0.087      0.106     -0.088     -0.106
     0.190      0.092      0.111     -0.093     -0.112
     0.200      0.097      0.117     -0.098     -0.118
     0.210      0.102      0.123     -0.103     -0.124
     0.220      0.107      0.129     -0.108     -0.130
     0.230      0.111      0.135     -0.113     -0.135
     0.240      0.116      0.141     -0.118     -0.141
     0.250      0.121      0.147     -0.123     -0.147
     0.260      0.126      0.152     -0.128     -0.153
     0.270      0.131      0.158     -0.133     -0.159
     0.280      0.135      0.164     -0.137     -0.165
     0.290      0.140      0.170     -0.142     -0.171
     0.300      0.145      0.176     -0.147     -0.177
     0.310      0.150      0.182     -0.152     -0.183
     0.320      0.155      0.188     -0.157     -0.189
     0.330      0.159      0.193     -0.162     -0.195
     0.340      0.164      0.199     -0.167     -0.200
     0.350      0.169      0.205     -0.172     -0.206
     0.360      0.174      0.211     -0.177     -0.212
     0.370      0.178      0.217     -0.182     -0.218
     0.380      0.183      0.223     -0.187     -0.224
     0.390      0.188      0.228     -0.192     -0.230
     0.400      0.193      0.234     -0.197     -0.236
     0.410      0.198      0.240     -0.202     -0.242
     0.420      0.202      0.246     -0.207     -0.248
     0.430      0.207      0.252     -0.212     -0.254
     0.440      0.212      0.258     -0.217     -0.260
     0.450      0.217      0.263     -0.222     -0.266
     0.460      0.221      0.269     -0.227     -0.271
     0.470      0.226      0.275     -0.232     -0.277
     0.480      0.231      0.281     -0.237     -0.283
     0.490      0.236      0.287     -0.242     -0.289
     0.500      0.240      0.293     -0.247     -0.295
     0.510      0.245      0.298     -0.252     -0.301
     0.520      0.250      0.304     -0.257     -0.307
     0.530      0.254      0.310     -0.262     -0.313
     0.540      0.259      0.316     -0.267     -0.319
     0.550      0.264      0.322     -0.272     -0.325
     0.560      0.269      0.327     -0.277     -0.331
     0.570      0.273      0.333     -0.282     -0.337
     0.580      0.278      0.339     -0.287     -0.343
     0.590      0.283      0.345     -0.292     -0.349
     0.600      0.288      0.351     -0.297     -0.355
     0.610      0.292      0.356     -0.302     -0.360
     0.620      0.297      0.362     -0.307     -0.366
     0.630      0.302      0.368     -0.312     -0.372
     0.640      0.306      0.374     -0.317     -0.378
     0.650      0.311      0.380     -0.322     -0.384
     0.660      0.316      0.386     -0.327     -0.390
     0.670      0.320      0.391     -0.332     -0.396
     0.680      0.325      0.397     -0.337     -0.402
     0.690      0.330      0.403     -0.342     -0.408
     0.700      0.335      0.409     -0.348     -0.414
     0.710      0.339      0.415     -0.353     -0.420
     0.720      0.344      0.420     -0.358     -0.426
     0.730      0.349      0.426     -0.363     -0.432
     0.740      0.353      0.432     -0.368     -0.438
     0.750      0.358      0.438     -0.373     -0.444
     0.760      0.363      0.444     -0.378     -0.450
     0.770      0.367      0.449     -0.383     -0.456
     0.780      0.372      0.455     -0.388     -0.462
     0.790      0.377      0.461     -0.393     -0.468
     0.800      0.381      0.467     -0.398     -0.474
     0.810      0.386      0.472     -0.403     -0.479
     0.820      0.391      0.478     -0.408     -0.485
     0.830      0.395      0.484     -0.413     -0.491
     0.840      0.400      0.490     -0.419     -0.497
     0.850      0.404      0.496     -0.424     -0.503
     0.860      0.409      0.501     -0.429     -0.509
     0.870      0.414      0.507     -0.434     -0.515
     0.880      0.418      0.513     -0.439     -0.521
     0.890      0.423      0.519     -0.444     -0.527
     0.900      0.428      0.525     -0.449     -0.533
     0.910      0.432      0.530     -0.454     -0.539
     0.920      0.437      0.536     -0.459     -0.545
     0.930      0.441      0.542     -0.464     -0.551
     0.940      0.446      0.548     -0.470     -0.557
     0.950      0.451      0.553     -0.475     -0.563
     0.960      0.455      0.559     -0.480     -0.569
     0.970      0.460      0.565     -0.485     -0.575
     0.980      0.465      0.571     -0.490     -0.581
     0.990      0.469      0.577     -0.495     -0.587
     1.000      0.474      0.582     -0.500     -0.593
];

roll_list = transpose(roll_camber(:,1));
camber_change_f_r = transpose(roll_camber(:,2));
camber_change_r_r = transpose(roll_camber(:,3));
camber_change_f_l = transpose(roll_camber(:,4));
camber_change_r_l = transpose(roll_camber(:,5));
rc_Fn = [roll_list; camber_change_f_r; camber_change_r_r; camber_change_f_l; camber_change_r_l];
camber = zeros(4,1);

%% Calculations
% note: 1 = front left tire, 2 = front right tire
%       3 = rear left tire, 4 = rear right tire

roll = roll_gradient*cornering_g*(-dir); %cornering g always pos. 
camber_fromroll_1 = lininterp1(rc_Fn(1,:), rc_Fn(4,:), roll); %outer for right turn (pos dir)
camber_fromroll_2 = lininterp1(rc_Fn(1,:), rc_Fn(2,:), roll);%inner for right turn
camber_fromroll_3 = lininterp1(rc_Fn(1,:), rc_Fn(5,:), roll);
camber_fromroll_4 = lininterp1(rc_Fn(1,:), rc_Fn(3,:), roll);
camber_fromcompliance_1 = fyApprox(1)*camber_compliance_outside*1;
camber_fromcompliance_2 = fyApprox(2)*camber_compliance_outside*-1;
%camber_fromcompliance_3 = fyApprox(3)*camber_compliance_outside*1;
%camber_fromcompliance_4 = fyApprox(4)*camber_compliance_outside*-1;
camber_fromsteer = steer_angle*steer_camber;

%calculation of camber for each tire
%comment out whichever part needs to be commented out

camber(1) = static_camber +camber_fromroll_1 +(camber_fromsteer*-1) - static_camber;%+camber_fromcompliance_1;
camber(2) = static_camber +camber_fromroll_2 +(camber_fromsteer*1) - static_camber;%+camber_fromcompliance_2;

if static_camber < -64
    camber(3) = 0;
    camber(4) = 0;
    return;
end

camber(3) = static_camber +camber_fromroll_3;% +camber_fromcompliance_3;
camber(4) = static_camber +camber_fromroll_4;% +camber_fromcompliance_4; 
%disp(camber)

%disp(camber)
%camber

%Testing Values
%{
compliance = zeros(4);
compliance(1) = camber_fromcompliance_1;
compliance(2) = camber_fromcompliance_2;
compliance(3) = camber_fromcompliance_3;
compliance(4) = camber_fromcompliance_4;

cRoll = zeros(4);
cRoll(1) = camber_fromroll_1;
cRoll(2) = camber_fromroll_2;
cRoll(3) = camber_fromroll_3;
cRoll(4) = camber_fromroll_4;
yaw_rate 

[fyApprox(:,1)/1000, camber(:,1), compliance(:,1), cRoll(:,1),transpose([-camber_fromsteer,camber_fromsteer,0,0])]
%}